SELECT codigo_venta_producto, descripcion_producto, cantidad_producto,
(CASE
    WHEN producto_exento = 1 THEN precio_venta_publico
    ELSE base_imponible
END) AS subtotal, 
(CASE
    WHEN producto_exento = 1 THEN 0
    ELSE impuesto_producto
END) AS impuesto_producto, precio_venta_publico FROM spve.producto AS p
LEFT JOIN spve.precio_producto AS pp ON p.id_precio_producto = pp.id_precio_producto
LEFT JOIN spve.venta_producto AS vp ON vp.id_producto = p.id_producto 
WHERE id_venta = 1;